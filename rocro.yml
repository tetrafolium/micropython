---
inspecode:

  global:

  tasks:

  tools:

    astyle:
      auto-fix: true
      thresholds: {num-issues: 780}

    autopep8:
      auto-fix: true
      thresholds: {num-issues: 490}

    clang-format:
    - ignore: 'ports/'
      auto-fix: true
      thresholds: {num-issues: 999}
    - input: 'ports/'
      auto-fix: true
      thresholds: {num-issues: 999}

    cpd:
      options:
        --skip-lexical-errors:
      thresholds: {num-issues: 342}

    # coverity:

    cppcheck:
      thresholds: {num-issues: 106}

    cpplint:
    - thresholds: {num-issues: 999}
    - options:
        --filter:                   #  86633 issues without `--filter` option
          - -whitespace             #  77995 issues
          - -readability            #   3317 issues
          - -scan-build             #   3279 issues
          - -runtime                #   1731 issues
          - -build/include_subdir   #   1826 issues
          - -build/header_guard     #   1257 issues
      thresholds: {num-issues: 999}

    flake8:
    - thresholds: {num-issues: 999}
    - options:
        --ignore:   #  5212 issues without `--ignore` option
          - E501    #  1065 issues
          - F821    #   881 issues
          - E231    #   634 issues
          - E302    #   380 issues
          - E305    #   333 issues
          - E722    #   279 issues
          - F841    #   216 issues
          - W503    #   179 issues
          - E741    #   153 issues
          - E241    #   135 issues
          - E261    #   134 issues
          - E201    #   115 issues
          - E265    #   110 issues
          - E128    #   100 issues
      thresholds: {num-issues: 999}

    # fortify:

    fossology:
      thresholds: {num-issues: 486}

    grep:
      thresholds: {num-issues: 244}

    # infer:
    #   thresholds: {num-issues: 999}
    # ----------
    # $ infer --jobs 1 --results-dir "${OUTPUT}" -- make
    # Capturing in make/cc mode...
    # Makefile:19: *** The 'sphinx-build' command was not found. Make sure you have Sphinx installed, then set the SPHINXBUILD environment variable to point to the full path of the 'sphinx-build' executable. Alternatively you can add the directory with the executable to your PATH. If you don't have Sphinx installed, grab it from http://sphinx-doc.org/.  Stop.
    # External Error: *** capture command failed:
    # *** make
    # *** exited with code 2
    # ----------

    jscpd:
      thresholds: {num-issues: 375}

    misspell:
      auto-fix: true
      thresholds: {num-issues: 379}

    nose2:
      thresholds: {num-issues: 0}

    prospector:
      thresholds: {num-issues: 851}

    pycodestyle:
      options:
        --ignore:   #  3932 issues without `--ignore` option
          - E501    #  1067 issues
          - E231    #   636 issues
          - E302    #   380 issues
          - E305    #   333 issues
          - E722    #   279 issues
          - E741    #   153 issues
          - E261    #   134 issues
          - E201    #   115 issues
          - E265    #   110 issues
          - E128    #   105 issues
      thresholds: {num-issues: 958}

    pyflakes:
      ignore: 'tests/'
      thresholds: {num-issues: 355}

    pylint:
      thresholds: {num-issues: 999}   # Failed / IndexError: list index out of range

    pytest:
      thresholds: {num-issues: 999}   # Failed / Interrupted: 2 errors during collection
      # ----------
      # ERROR drivers/display/lcd160cr_test.py
      #   E   ModuleNotFoundError: No module named 'framebuf'
      # ERROR tests/qemu-arm/native_test.py
      #   E   ModuleNotFoundError: No module named 'native_frozen_align'
      # ----------

    scan-build:
      thresholds: {num-issues: 999}   # Failed / exit status: 2
      # ----------
      # Makefile:19: *** The 'sphinx-build' command was not found. Make sure you have Sphinx installed, then set the SPHINXBUILD environment variable to point to the full path of the 'sphinx-build' executable. Alternatively you can add the directory with the executable to your PATH. If you don't have Sphinx installed, grab it from http://sphinx-doc.org/.  Stop.
      # ----------

    uncrustify:
      auto-fix: true                  # avoid break pipeline
      thresholds: {num-issues: 999}   # Failed / Segmentation fault (core dumped)

    # understand:

    unused:
      options:
        - --single-occurrence
        - --all-likelihoods
      machine: {cpu: 0.75}    # default is 0.5 ... timeout in default settings
      thresholds: {num-issues: 999}

    yapf:
      auto-fix: true
      thresholds: {num-issues: 560}
